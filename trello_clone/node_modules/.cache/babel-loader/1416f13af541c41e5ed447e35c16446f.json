{"remainingRequest":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/babel-loader/lib/index.js!/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/jun/Rendu/day51_TWP/mvvm_twp/src/components/CardDetails.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/src/components/CardDetails.vue","mtime":1627853929806},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCB7IG1peGluIGFzIFZ1ZUNsaWNrQXdheSB9IGZyb20gInZ1ZTMtY2xpY2stYXdheSI7CmltcG9ydCBDb21tZW50QWRkIGZyb20gIi4vQ29tbWVudEFkZC52dWUiOwppbXBvcnQgQ29tbWVudHMgZnJvbSAiLi9Db21tZW50cy52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcmREaXYiLAogIG1peGluczogW1Z1ZUNsaWNrQXdheV0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dFZGl0OiBmYWxzZSwKICAgICAgY2FyZERlc2NyaXB0aW9uOiAiIiwKICAgICAgdGl0bGVDbGlja2VkOiBmYWxzZSwKICAgICAgbmV3VGl0bGU6ICIiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQ29tbWVudEFkZDogQ29tbWVudEFkZCwKICAgIENvbW1lbnRzOiBDb21tZW50cwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0cmlwcGVkQ29udGVudDogZnVuY3Rpb24gc3RyaXBwZWRDb250ZW50KCkgewogICAgICB2YXIgcmVnZXggPSAvKDwoW14+XSspPikvZ2k7CiAgICAgIHZhciBhcG9zdCA9ICImIzgyMTc7IjsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRDYXJkLmNvbnRlbnQucmVuZGVyZWQucmVwbGFjZShyZWdleCwgIiIpLnJlcGxhY2UoYXBvc3QsICInIik7CiAgICB9LAogICAgc3RyaXBwZWRUaXRsZTogZnVuY3Rpb24gc3RyaXBwZWRUaXRsZSgpIHsKICAgICAgdmFyIGFwb3N0ID0gIiYjODIxNzsiOwogICAgICB2YXIgbmV3U3RyID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudENhcmQudGl0bGUucmVuZGVyZWQucmVwbGFjZShhcG9zdCwgIiciKTsKICAgICAgcmV0dXJuIG5ld1N0cjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhpZGVDYXJkQnlJZDogZnVuY3Rpb24gaGlkZUNhcmRCeUlkKCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zaG93Q2FyZCA9IGZhbHNlOwogICAgICB0aGlzLnNob3dFZGl0ID0gZmFsc2U7CiAgICB9LAogICAgZGVsZXRlQ2FyZDogZnVuY3Rpb24gZGVsZXRlQ2FyZCgpIHsKICAgICAgaWYgKGNvbmZpcm0oIkRlbGV0ZSBjYXJkPyIpKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImRlbGV0ZUNhcmQiKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVFZGl0OiBmdW5jdGlvbiB0b2dnbGVFZGl0KCkgewogICAgICB0aGlzLnNob3dFZGl0ID0gIXRoaXMuc2hvd0VkaXQ7CgogICAgICBpZiAodGhpcy5zaG93RWRpdCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuY2FyZERlc2NyaXB0aW9uID0gdGhpcy5zdHJpcHBlZENvbnRlbnQ7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVDYXJkRGVzYzogZnVuY3Rpb24gdXBkYXRlQ2FyZERlc2MoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRDYXJkLmNvbnRlbnQucmVuZGVyZWQgPSB0aGlzLmNhcmREZXNjcmlwdGlvbjsgLy8gY29uc29sZS5sb2coInVwZGF0aW5nLi4uIik7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRDYXJkLmNvbnRlbnQucmVuZGVyZWQpOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVwZGF0ZUNhcmREZXNjIik7CiAgICAgIHRoaXMudG9nZ2xlRWRpdCgpOwogICAgfSwKICAgIHVwZGF0ZVRpdGxlOiBmdW5jdGlvbiB1cGRhdGVUaXRsZSgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudENhcmQudGl0bGUucmVuZGVyZWQgPSB0aGlzLm5ld1RpdGxlOyAvLyBjb25zb2xlLmxvZygidXBkYXRpbmcuLi4iKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudENhcmQudGl0bGUucmVuZGVyZWQpOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVwZGF0ZUNhcmRUaXRsZSIpOwogICAgfSwKICAgIG9uQ2xpY2tBd2F5OiBmdW5jdGlvbiBvbkNsaWNrQXdheSgpIHsKICAgICAgdGhpcy50aXRsZUNsaWNrZWQgPSBmYWxzZTsKICAgIH0KICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB0aGlzLm5ld1RpdGxlID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudENhcmQudGl0bGUucmVuZGVyZWQ7CiAgfQp9Ow=="},{"version":3,"sources":["/home/jun/Rendu/day51_TWP/mvvm_twp/src/components/CardDetails.vue"],"names":[],"mappings":";;AA2JA,SAAS,KAAI,IAAK,YAAlB,QAAsC,iBAAtC;AACA,OAAO,UAAP,MAAuB,kBAAvB;AACA,OAAO,QAAP,MAAqB,gBAArB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,MAAM,EAAE,CAAC,YAAD,CAFK;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,KADL;AAEL,MAAA,eAAe,EAAE,EAFZ;AAGL,MAAA,YAAY,EAAE,KAHT;AAIL,MAAA,QAAQ,EAAE;AAJL,KAAP;AAMD,GAVY;AAWb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,QAAQ,EAAR;AAFU,GAXC;AAeb,EAAA,QAAQ,EAAE;AACR,IAAA,eADQ,6BACU;AAChB,UAAI,KAAI,GAAI,eAAZ;AACA,UAAI,KAAI,GAAI,SAAZ;AACA,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,OAA9B,CAAsC,QAAtC,CACN,OADM,CACE,KADF,EACS,EADT,EAEN,OAFM,CAEE,KAFF,EAES,GAFT,CAAP;AAGD,KAPO;AAQR,IAAA,aARQ,2BAQQ;AACd,UAAI,KAAI,GAAI,SAAZ;AACA,UAAI,MAAK,GAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,KAA9B,CAAoC,QAApC,CAA6C,OAA7C,CAAqD,KAArD,EAA4D,GAA5D,CAAb;AACA,aAAO,MAAP;AACD;AAZO,GAfG;AA6Bb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AACb,WAAK,MAAL,CAAY,KAAZ,CAAkB,QAAlB,GAA6B,KAA7B;AACA,WAAK,QAAL,GAAgB,KAAhB;AACD,KAJM;AAKP,IAAA,UALO,wBAKM;AACX,UAAI,OAAO,CAAC,cAAD,CAAX,EAA6B;AAC3B,aAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB;AACA,QAAA,MAAM,CAAC,QAAP,CAAgB,MAAhB;AACF;AACD,KAVM;AAWP,IAAA,UAXO,wBAWM;AACX,WAAK,QAAL,GAAgB,CAAC,KAAK,QAAtB;;AACA,UAAI,KAAK,QAAL,KAAkB,IAAtB,EAA4B;AAC1B,aAAK,eAAL,GAAuB,KAAK,eAA5B;AACF;AACD,KAhBM;AAiBP,IAAA,cAjBO,4BAiBU;AACf,WAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,OAA9B,CAAsC,QAAtC,GAAiD,KAAK,eAAtD,CADe,CAEf;AACA;;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,gBAArB;AACA,WAAK,UAAL;AACD,KAvBM;AAwBP,IAAA,WAxBO,yBAwBO;AACZ,WAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,KAA9B,CAAoC,QAApC,GAA+C,KAAK,QAApD,CADY,CAEZ;AACA;;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,iBAArB;AACD,KA7BM;AA8BP,IAAA,WA9BO,yBA8BO;AACZ,WAAK,YAAL,GAAoB,KAApB;AACD;AAhCM,GA7BI;AA+Db,EAAA,OA/Da,qBA+DH;AACR,SAAK,QAAL,GAAgB,KAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,KAA9B,CAAoC,QAApD;AACD;AAjEY,CAAf","sourcesContent":["<template>\n  <div v-if=\"$store.state.currentCard !== null\">\n    <transition name=\"modal\">\n      <div class=\"card-mask\">\n        <div class=\"card-wrapper\">\n          <div class=\"card-container\">\n            <header>\n              <div @click=\"hideCardById\" class=\"close\">\n                <svg\n                  @click=\"toggleListForm\"\n                  class=\"button cancel h-6 w-6\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </div>\n            </header>\n            <body>\n              <div class=\"card-title\">\n                <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n                  />\n                </svg>\n                <h2\n                  name=\"header\"\n                  v-if=\"!titleClicked\"\n                  @click=\"titleClicked = true\"\n                >\n                  {{ strippedTitle }}\n                </h2>\n                <input\n                  v-else\n                  type=\"text\"\n                  name=\"newTitle\"\n                  v-model=\"newTitle\"\n                  v-click-away=\"onClickAway\"\n                  @keyup.enter=\"\n                    updateTitle();\n                    titleClicked = false;\n                  \"\n                  class=\"title\"\n                />\n              </div>\n\n              <div class=\"in-list\">\n                in list <a href=\"#\">{{ $store.state.currentList.name }}</a>\n              </div>\n\n              <div class=\"card-description\">\n                <div class=\"card-description-header\">\n                  <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"2\"\n                      d=\"M4 6h16M4 12h16M4 18h7\"\n                    />\n                  </svg>\n                  <h3>Description</h3>\n                  <button @click=\"toggleEdit\" id=\"edit\">Edit</button>\n                </div>\n\n                <div v-show=\"showEdit\" class=\"card-edit\">\n                  <div>\n                    <textarea\n                      type=\"text\"\n                      name=\"cardDescription\"\n                      v-model=\"cardDescription\"\n                    ></textarea>\n                  </div>\n                  <div class=\"card-edit-buttons\">\n                    <button @click=\"updateCardDesc\" id=\"save\">Save</button>\n                    <svg\n                      @click=\"toggleEdit\"\n                      id=\"close\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        d=\"M6 18L18 6M6 6l12 12\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n                <div name=\"body\" v-show=\"!showEdit\">\n                  {{ strippedContent }}\n                </div>\n              </div>\n\n              <div class=\"card-comment\">\n                <div class=\"card-comment-header\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"h-6 w-6\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"2\"\n                      d=\"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z\"\n                    />\n                  </svg>\n                  <h3>Activity</h3>\n                </div>\n                <CommentAdd />\n                <Comments />\n              </div>\n\n              <div class=\"card-footer\">\n                <div\n                  @click=\"\n                    deleteCard();\n                    hideCardById();\n                  \"\n                  class=\"delete-btn\"\n                >\n                  <div class=\"delete\">\n                    <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        d=\"M18 12H6\"\n                      /></svg\n                    >Delete\n                  </div>\n                </div>\n              </div>\n            </body>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { mixin as VueClickAway } from \"vue3-click-away\";\nimport CommentAdd from \"./CommentAdd.vue\";\nimport Comments from \"./Comments.vue\";\n\nexport default {\n  name: \"CardDiv\",\n  mixins: [VueClickAway],\n  data() {\n    return {\n      showEdit: false,\n      cardDescription: \"\",\n      titleClicked: false,\n      newTitle: \"\",\n    };\n  },\n  components: {\n    CommentAdd,\n    Comments,\n  },\n  computed: {\n    strippedContent() {\n      let regex = /(<([^>]+)>)/gi;\n      let apost = \"&#8217;\";\n      return this.$store.state.currentCard.content.rendered\n      .replace(regex, \"\")\n      .replace(apost, \"'\");\n    },\n    strippedTitle() {\n      let apost = \"&#8217;\";\n      let newStr = this.$store.state.currentCard.title.rendered.replace(apost, \"'\");\n      return newStr;\n    },\n  },\n  methods: {\n    hideCardById() {\n      this.$store.state.showCard = false;\n      this.showEdit = false;\n    },\n    deleteCard() {\n      if (confirm(\"Delete card?\")) {\n        this.$store.dispatch(\"deleteCard\");\n        window.location.reload();\n      }\n    },\n    toggleEdit() {\n      this.showEdit = !this.showEdit;\n      if (this.showEdit === true) {\n        this.cardDescription = this.strippedContent;\n      }\n    },\n    updateCardDesc() {\n      this.$store.state.currentCard.content.rendered = this.cardDescription;\n      // console.log(\"updating...\");\n      // console.log(this.$store.state.currentCard.content.rendered);\n      this.$store.dispatch(\"updateCardDesc\");\n      this.toggleEdit();\n    },\n    updateTitle() {\n      this.$store.state.currentCard.title.rendered = this.newTitle;\n      // console.log(\"updating...\");\n      // console.log(this.$store.state.currentCard.title.rendered);\n      this.$store.dispatch(\"updateCardTitle\");\n    },\n    onClickAway() {\n      this.titleClicked = false;\n    },\n  },\n  updated() {\n    this.newTitle = this.$store.state.currentCard.title.rendered;\n  },\n};\n</script>\n\n<style scoped>\nbody {\n  background: #ddd;\n}\na {\n  color: #666;\n}\na:hover {\n  cursor: pointer;\n  color: #333;\n}\nh2,\n.title {\n  font-size: 1.4rem;\n  padding: 0;\n  margin: 0;\n}\n.card-mask {\n  position: fixed;\n  /* z-index: 9998; */\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: table;\n  transition: opacity 0.3s ease;\n}\n\n.card-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.card-container {\n  width: 92vw;\n  max-width: 750px;\n  margin: 10px auto;\n  /* padding: 20px 30px; */\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n  transition: all 0.3s ease;\n  font-family: Helvetica, Arial, sans-serif;\n}\n\nheader {\n  background: orange;\n  height: 120px;\n  opacity: 0.5;\n  display: flex;\n  flex-direction: row-reverse;\n}\n\n.close svg {\n  height: 22px;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 100%;\n  background: rgba(0, 0, 0, 0);\n}\n\n.close svg:hover {\n  background: rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n}\n\nbody {\n  background-color: inherit;\n  padding: 20px 10px;\n}\n\nsvg {\n  height: 20px;\n  padding-right: 10px;\n}\n\n.card-title {\n  display: flex;\n  align-items: center;\n  text-align: left;\n  font-weight: bold;\n  font-size: 1.25rem;\n}\n\n.in-list {\n  text-align: left;\n  color: #999;\n  font-size: 0.9rem;\n  padding: 6px 30px;\n}\n\n.card-description-header {\n  display: flex;\n  align-items: center;\n}\n\n.card-description-header h3 {\n  padding-right: 10px;\n}\n\n#edit {\n  height: 33px;\n  background: #eee;\n  border-radius: 3px;\n  border: none;\n  padding: 0 12px;\n  font-size: 0.9rem;\n}\n\n#edit:hover {\n  background: #ddd;\n  cursor: pointer;\n}\n\n.card-description {\n  margin: 20px 0;\n  text-align: start;\n}\n\n.card-edit textarea {\n  width: 96%;\n  height: 100px;\n  padding: 10px;\n}\n\n.card-edit-buttons {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.card-edit-buttons button {\n  margin-right: 8px;\n  height: 33px;\n  border-radius: 3px;\n  border: none;\n  padding: 0 12px;\n  font-size: 0.9rem;\n}\n\n#save {\n  background: #0079bf;\n  color: white;\n}\n\n#save:hover {\n  background: #026aa7;\n  cursor: pointer;\n}\n\n#close {\n  color: #777;\n  background: transparent;\n}\n\n#close:hover {\n  color: #333;\n  cursor: pointer;\n}\n\n.card-comment-header {\n  display: flex;\n  align-items: center;\n}\n\n.card-comment-body {\n  display: flex;\n  align-items: center;\n}\n\n.card-comment-body div {\n  border-radius: 100%;\n  border: 1px solid #ccc;\n  height: 33px;\n  width: 33px;\n  margin-right: 10px;\n}\n\n.card-comment-body input {\n  height: 30px;\n  border: 1px solid #ccc;\n  flex: 1;\n  padding-left: 10px;\n  font-size: 0.9rem;\n}\n\n.card-footer {\n  margin: 15px 0;\n  padding-top: 20px;\n  border-top: 1px solid #ddd;\n}\n\n.delete-btn {\n  display: flex;\n  flex-direction: column;\n  width: 45%;\n  background: rgb(200, 0, 0);\n  justify-content: center;\n  color: white;\n  height: 33px;\n  border-radius: 3px;\n}\n\n.delete-btn:hover {\n  background: rgb(180, 0, 0);\n  cursor: pointer;\n}\n\n.delete {\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n}\n\n.card-default-button {\n  float: right;\n}\n\n/*\n * The following styles are auto-applied to elements with\n * transition=\"card\" when their visibility is toggled\n * by Vue.js.\n *\n * You can easily play with the card transition by editing\n * these styles.\n */\n\n.card-enter {\n  opacity: 0;\n}\n\n.card-leave-active {\n  opacity: 0;\n}\n\n.card-enter .card-container,\n.card-leave-active .card-container {\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n}\n</style>"],"sourceRoot":""}]}