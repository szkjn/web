{"remainingRequest":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/babel-loader/lib/index.js!/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/jun/Rendu/day51_TWP/mvvm_twp/src/components/Comment.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/src/components/Comment.vue","mtime":1627854038009},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jun/Rendu/day51_TWP/mvvm_twp/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29tbWVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dFZGl0OiBmYWxzZSwKICAgICAgY29tbWVudENvbnRlbnQ6ICIiCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGNvbW1lbnQ6IE9iamVjdAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0cmlwcGVkQ29udGVudDogZnVuY3Rpb24gc3RyaXBwZWRDb250ZW50KCkgewogICAgICB2YXIgcmVnZXggPSAvKDwoW14+XSspPikvZ2k7CiAgICAgIHZhciBhcG9zdCA9ICImIzgyMTc7IjsKICAgICAgdmFyIG5ld1N0ciA9IHRoaXMuY29tbWVudC5jb250ZW50LnJlbmRlcmVkLnJlcGxhY2UocmVnZXgsICIiKS5yZXBsYWNlKGFwb3N0LCAiJyIpLnJlcGxhY2UoYXBvc3QsICInIik7CiAgICAgIHJldHVybiBuZXdTdHI7CiAgICB9LAogICAgdGltZUZyb21DcmVhdGlvbjogZnVuY3Rpb24gdGltZUZyb21DcmVhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0VGltZUZyb21DcmVhdGlvbigpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlRWRpdDogZnVuY3Rpb24gdG9nZ2xlRWRpdCgpIHsKICAgICAgdGhpcy5zaG93RWRpdCA9ICF0aGlzLnNob3dFZGl0OwoKICAgICAgaWYgKHRoaXMuc2hvd0VkaXQgPT09IHRydWUpIHsKICAgICAgICB0aGlzLmNvbW1lbnRDb250ZW50ID0gdGhpcy5zdHJpcHBlZENvbnRlbnQ7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0Q29tbWVudDogZnVuY3Rpb24gZWRpdENvbW1lbnQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRDb21tZW50ID0gdGhpcy5jb21tZW50OwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50Q29tbWVudC5jb250ZW50LnJlbmRlcmVkID0gdGhpcy5jb21tZW50Q29udGVudDsKICAgICAgY29uc29sZS5sb2coInVwZGF0aW5nLi4uIiArIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRDb21tZW50LmNvbnRlbnQucmVuZGVyZWQpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZWRpdENvbW1lbnQiKTsKICAgICAgdGhpcy50b2dnbGVFZGl0KCk7CiAgICB9LAogICAgZGVsZXRlQ29tbWVudDogZnVuY3Rpb24gZGVsZXRlQ29tbWVudCgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudENvbW1lbnQgPSB0aGlzLmNvbW1lbnQ7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJkZWxldGVDb21tZW50Iik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/jun/Rendu/day51_TWP/mvvm_twp/src/components/Comment.vue"],"names":[],"mappings":";;AA4CA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,KADL;AAEL,MAAA,cAAc,EAAE;AAFX,KAAP;AAID,GAPY;AAQb,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE;AADJ,GARM;AAWb,EAAA,QAAQ,EAAE;AACR,IAAA,eADQ,6BACU;AAChB,UAAI,KAAI,GAAI,eAAZ;AACA,UAAI,KAAI,GAAI,SAAZ;AACA,UAAI,MAAK,GAAI,KAAK,OAAL,CAAa,OAAb,CAAqB,QAArB,CACV,OADU,CACF,KADE,EACK,EADL,EAEV,OAFU,CAEF,KAFE,EAEK,GAFL,EAGV,OAHU,CAGF,KAHE,EAGK,GAHL,CAAb;AAIA,aAAO,MAAP;AACD,KATO;AAUR,IAAA,gBAVQ,8BAUW;AACjB,aAAO,KAAK,mBAAL,EAAP;AACD;AAZO,GAXG;AAyBb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACM;AACX,WAAK,QAAL,GAAgB,CAAC,KAAK,QAAtB;;AACA,UAAI,KAAK,QAAL,KAAkB,IAAtB,EAA4B;AAC1B,aAAK,cAAL,GAAsB,KAAK,eAA3B;AACF;AACD,KANM;AAOP,IAAA,WAPO,yBAOO;AACZ,WAAK,MAAL,CAAY,KAAZ,CAAkB,cAAlB,GAAmC,KAAK,OAAxC;AACA,WAAK,MAAL,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,OAAjC,CAAyC,QAAzC,GAAoD,KAAK,cAAzD;AACA,MAAA,OAAO,CAAC,GAAR,CACE,gBAAgB,KAAK,MAAL,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,OAAjC,CAAyC,QAD3D;AAGA,WAAK,MAAL,CAAY,QAAZ,CAAqB,aAArB;AACA,WAAK,UAAL;AACD,KAfM;AAgBP,IAAA,aAhBO,2BAgBS;AACd,WAAK,MAAL,CAAY,KAAZ,CAAkB,cAAlB,GAAmC,KAAK,OAAxC;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,eAArB;AACD;AAnBM;AAzBI,CAAf","sourcesContent":["<template>\n  <div class=\"comment\">\n    <div class=\"child comment-header\">\n      <div class=\"username\">username</div>\n      <div class=\"time\">posted on {{ comment.date.replace(\"T\", \" at \") }}</div>\n      <!-- <div class=\"time\">{{ timeFromCreation }} days ago</div> -->\n    </div>\n    <div v-show=\"!showEdit\" class=\"child comment-body\">\n      {{ strippedContent }}\n    </div>\n    <div class=\"child comment-footer\">\n      <div @click=\"toggleEdit\" v-show=\"!showEdit\" id=\"edit\">Edit</div>\n      <div v-show=\"!showEdit\" @click=\"deleteComment\" id=\"delete\">Delete</div>\n    </div>\n    <div v-show=\"showEdit\" class=\"comment-edit\">\n      <div class=\"textarea\">\n        <textarea\n          type=\"text\"\n          name=\"commentContent\"\n          v-model=\"commentContent\"\n        ></textarea>\n      </div>\n      <div class=\"comment-edit-buttons\">\n        <button @click=\"editComment\" id=\"save\">Save</button>\n        <svg\n          @click=\"toggleEdit\"\n          id=\"close\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M6 18L18 6M6 6l12 12\"\n          />\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Comment\",\n  data() {\n    return {\n      showEdit: false,\n      commentContent: \"\",\n    };\n  },\n  props: {\n    comment: Object,\n  },\n  computed: {\n    strippedContent() {\n      let regex = /(<([^>]+)>)/gi;\n      let apost = \"&#8217;\";\n      let newStr = this.comment.content.rendered\n        .replace(regex, \"\")\n        .replace(apost, \"'\")\n        .replace(apost, \"'\");\n      return newStr;\n    },\n    timeFromCreation() {\n      return this.getTimeFromCreation();\n    },\n  },\n  methods: {\n    toggleEdit() {\n      this.showEdit = !this.showEdit;\n      if (this.showEdit === true) {\n        this.commentContent = this.strippedContent;\n      }\n    },\n    editComment() {\n      this.$store.state.currentComment = this.comment;\n      this.$store.state.currentComment.content.rendered = this.commentContent;\n      console.log(\n        \"updating...\" + this.$store.state.currentComment.content.rendered\n      );\n      this.$store.dispatch(\"editComment\");\n      this.toggleEdit();\n    },\n    deleteComment() {\n      this.$store.state.currentComment = this.comment;\n      this.$store.dispatch(\"deleteComment\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.comment {\n  font-size: 0.8rem;\n  margin-top: 30px;\n}\n\n.comment-body {\n  min-height: 30px;\n  border: 1px solid #ccc;\n  flex: 1;\n  padding-left: 10px;\n  font-size: 0.9rem;\n  text-justify: none;\n}\n.comment-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.child {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 8px 0;\n}\n.child div {\n  padding-right: 8px;\n}\n.username {\n  font-weight: bold;\n}\n.time {\n  color: #777;\n}\n#edit,\n#delete {\n  padding-right: 12px;\n  font-size: 0.8rem;\n  text-decoration: underline;\n  color: #777;\n}\n#edit:hover,\n#delete:hover {\n  color: #333;\n  cursor: pointer;\n}\ntextarea {\n  width: 97%;\n  height: 46px;\n  padding: 10px;\n}\n.comment-edit-buttons {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.comment-edit-buttons button {\n  /* margin-right: 8px; */\n  height: 33px;\n  border-radius: 3px;\n  border: none;\n  padding: 0 12px;\n  font-size: 0.9rem;\n}\n#save {\n  background: #0079bf;\n  color: white;\n}\n#save:hover {\n  background: #026aa7;\n  cursor: pointer;\n}\n#close {\n  color: #777;\n  background: transparent;\n}\n#close:hover {\n  color: #333;\n  cursor: pointer;\n}\nsvg {\n  height: 22px;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 100%;\n  background: rgba(0, 0, 0, 0);\n}\n\nsvg:hover {\n  background: rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n}\n</style>"],"sourceRoot":""}]}